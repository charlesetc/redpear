<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <title>Red Pear</title>

    <link rel="shortcut icon" type="image/ico" href="/favicon.ico" />
    <link rel="stylesheet" href="/basic.css" />
    <link rel="stylesheet" href="/project.css" />

    <script>
        const pageContext = {}
        pageContext.project = {{& project_blob}}
        pageContext.functions = {{& functions_blob}}
        pageContext.templates = {{& templates_blob}}
        pageContext.domain = "{{domain}}"
    </script>
    <script src='/js/main.js'></script>
    <script src='/js/components/project-operations.js'></script>
</head>

<body>
    <section class="main">
        <h1 class="main-title">
            <a href='/'>Red Pear</a>::<project-name></project-name>
        </h1>

        <project-operations></project-operations>

        <p>Welcome {{user.email}} <a href='/log-out'>Log out</a></p>


        <section class='functions-index'>
            <h3>Functions</h3>
            <functions-table></functions-table>
            <form method='post' action='/function/new'>
                <input type="hidden" value="{{project.id}}" name="project_id" />
                <button type='submit'>New</button>
            </form>
        </section>

        <section class='template-index'>
            <h3>Templates</h3>
            <templates-table></templates-table>
            <form method='post' action='/template/new-html'>
                <input type="hidden" value="{{project.id}}" name="project_id" />
                <button type='submit'>New HTML</button>
            </form>
            <form method='post' action='/template/new-fancy'>
                <input type="hidden" value="{{project.id}}" name="project_id" />
                <button type='submit'>New Fancy</button>
            </form>
        </section>

        <section>
            <h3>Data</h3>

            <p class='nothing-msg'>Nothing yet!</p>
        </section>
    </section>
</body>

</html>
